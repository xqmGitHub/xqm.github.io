!function(){function d(e,o){if("string"==typeof o){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;if(t)for(;e;){if(t.bind(e)(o))return e;e=e.parentElement}return!1}for(;e;){if(e==o)return e;e=e.parentElement}return!1}window.needShareButton=function(e,o){var t,a=this;for(t in a.elem=e||"need-share-button",a.getTitle=function(){var e;return document.querySelector&&(e=document.querySelector("title"))?e.innerText:document.title},a.getImage=function(){var e;return document.querySelector&&(e=document.querySelector('meta[property="og:image"]')||document.querySelector('meta[name="twitter:image"]'))?e.getAttribute("content"):""},a.getDescription=function(){var e;return document.querySelector?(e=document.querySelector('meta[property="og:description"]')||document.querySelector('meta[name="twitter:description"]')||document.querySelector('meta[name="description"]'))?e.getAttribute("content"):"":(e=document.getElementsByTagName("meta").namedItem("description"))?e.getAttribute("content"):""},a.share={weibo:function(e){e=p(e),e="http://v.t.sina.com.cn/share/share.php?title="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url)+"&pic="+encodeURIComponent(e.image);a.popup(e)},wechat:function(e){var o=p(e),t="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="+encodeURIComponent(o.url),o=e.querySelector(".need-share-button_dropdown"),e=o.getElementsByClassName("need-share-wechat-code-image")[0];e?e.remove():((e=document.createElement("img")).src=t,e.alt="loading wechat image...",e.setAttribute("class","need-share-wechat-code-image"),o.appendChild(e))},douban:function(e){e=p(e),e="https://www.douban.com/share/service?name="+encodeURIComponent(e.title)+"&href="+encodeURIComponent(e.url)+"&image="+encodeURIComponent(e.image);a.popup(e)},qqzone:function(e){e=p(e),e="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?title="+encodeURIComponent(e.title)+"&url="+encodeURIComponent(e.url)+"&pics="+encodeURIComponent(e.image)+"&desc="+encodeURIComponent(e.description);a.popup(e)},renren:function(e){e=p(e),e="http://widget.renren.com/dialog/share?title="+encodeURIComponent(e.title)+"&resourceUrl="+encodeURIComponent(e.url)+"&pic="+encodeURIComponent(e.image)+"&description="+encodeURIComponent(e.description);a.popup(e)},mailto:function(e){e=p(e),e="mailto:?subject="+encodeURIComponent(e.title)+"&body=Thought you might enjoy reading this: "+encodeURIComponent(e.url)+" - "+encodeURIComponent(e.description);window.location.href=e},twitter:function(e){var o=p(e),e=o.protocol+"twitter.com/intent/tweet?text=";e+=encodeURIComponent(o.title)+"&url="+encodeURIComponent(o.url),a.popup(e)},pinterest:function(e){var o=p(e),e=o.protocol+"pinterest.com/pin/create/bookmarklet/?is_video=false";e+="&media="+encodeURIComponent(o.image),e+="&url="+encodeURIComponent(o.url),e+="&description="+encodeURIComponent(o.title),a.popup(e)},facebook:function(e){var o=p(e),e=o.protocol+"www.facebook.com/share.php?";e+="u="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),a.popup(e)},googleplus:function(e){var o=p(e),e=o.protocol+"plus.google.com/share?";e+="url="+encodeURIComponent(o.url),a.popup(e)},reddit:function(e){var o=p(e),e=o.protocol+"www.reddit.com/submit?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),a.popup(e)},delicious:function(e){var o=p(e),e=o.protocol+"del.icio.us/post?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),e+="&notes="+encodeURIComponent(o.description),a.popup(e)},stumbleupon:function(e){var o=p(e),e=o.protocol+"www.stumbleupon.com/submit?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),a.popup(e)},linkedin:function(e){var o=p(e),e=o.protocol+"www.linkedin.com/shareArticle?mini=true";e+="&url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),e+="&source="+encodeURIComponent(o.source),a.popup(e)},slashdot:function(e){var o=p(e),e=o.protocol+"slashdot.org/bookmark.pl?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),a.popup(e)},technorati:function(e){var o=p(e),e=o.protocol+"technorati.com/faves?";e+="add="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),a.popup(e)},posterous:function(e){var o=p(e),e=o.protocol+"posterous.com/share?";e+="linkto="+encodeURIComponent(o.url),a.popup(e)},tumblr:function(e){var o=p(e),e=o.protocol+"www.tumblr.com/share?v=3";e+="&u="+encodeURIComponent(o.url),e+="&t="+encodeURIComponent(o.title),a.popup(e)},googlebookmarks:function(e){var o=p(e),e=o.protocol+"www.google.com/bookmarks/mark?op=edit";e+="&bkmk="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),e+="&annotation="+encodeURIComponent(o.description),a.popup(e)},newsvine:function(e){var o=p(e),e=o.protocol+"www.newsvine.com/_tools/seed&save?";e+="u="+encodeURIComponent(o.url),e+="&h="+encodeURIComponent(o.title),a.popup(e)},evernote:function(e){var o=p(e),e=o.protocol+"www.evernote.com/clip.action?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),a.popup(e)},friendfeed:function(e){var o=p(e),e=o.protocol+"www.friendfeed.com/share?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),a.popup(e)},vkontakte:function(e){var o=p(e),e=o.protocol+"vkontakte.ru/share.php?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),e+="&description="+encodeURIComponent(o.description),e+="&image="+encodeURIComponent(o.image),e+="&noparse=true",a.popup(e)},odnoklassniki:function(e){var o=p(e),e=o.protocol+"www.odnoklassniki.ru/dk?st.cmd=addShare&st.s=1";e+="&st.comments="+encodeURIComponent(o.description),e+="&st._surl="+encodeURIComponent(o.url),a.popup(e)},mailru:function(e){var o=p(e),e=o.protocol+"connect.mail.ru/share?";e+="url="+encodeURIComponent(o.url),e+="&title="+encodeURIComponent(o.title),e+="&description="+encodeURIComponent(o.description),e+="&imageurl="+encodeURIComponent(o.image),a.popup(e)}},a.popup=function(e){var o=void 0!==window.screenLeft?window.screenLeft:screen.left,t=void 0!==window.screenTop?window.screenTop:screen.top,o=(window.innerWidth||document.documentElement.clientWidth||screen.width)/2-300+o,t=(window.innerHeight||document.documentElement.clientHeight||screen.height)/2-250+t,o=window.open(e,"targetWindow","toolbar=no,location=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=600, height=500, top="+t+", left="+o);window.focus&&o.focus()},a.options={iconStyle:"default",boxForm:"horizontal",position:"bottomCenter",protocol:-1===["http","https"].indexOf(window.location.href.split(":")[0])?"https://":"//",networks:"Weibo,Wechat,Douban,QQZone,Twitter,Pinterest,Facebook,GooglePlus,Reddit,Linkedin,Tumblr,Evernote"},o)o.hasOwnProperty(t)&&(a.options[t]=o[t]);function p(e){var o,t,n,r,i={};for(o in a.options)a.options.hasOwnProperty(o)&&(i[o]=a.options[o]);for(t in i.url=window.location.href,i.title=a.getTitle(),i.image=a.getImage(),i.description=a.getDescription(),e.dataset)!t.match(/share/)||(n=t.replace(/share/,"")).length&&(n=n.charAt(0).toLowerCase()+n.slice(1),r=e.dataset[t],"networks"===n?r=r.split(","):"url"===n&&r&&"/"===r[0]&&(r=location.origin+r),i[n]=r);return i}a.options.networks=a.options.networks.split(","),document.addEventListener("click",function(e){var o,t=document.querySelector(".need-share-button-opened");d(e.target,".need-share-button-opened")?setTimeout(function(){t.classList.remove("need-share-button-opened"),t.querySelector(".need-share-wechat-code-image")&&t.querySelector(".need-share-wechat-code-image").remove()},1):t?(t.classList.remove("need-share-button-opened"),t.querySelector(".need-share-wechat-code-image")&&t.querySelector(".need-share-wechat-code-image").remove()):(o=d(e.target,a.elem))&&(o.classList.contains("need-share-button-opened")||(function(o){var e=document.createElement("span");if(e.className="need-share-button_dropdown",!o.querySelector(".need-share-button_dropdown")){var t=p(o);"box"==t.iconStyle&&"horizontal"==t.boxForm?e.className+=" need-share-button_dropdown-box-horizontal":"box"==t.iconStyle&&"vertical"==t.boxForm&&(e.className+=" need-share-button_dropdown-box-vertical"),setTimeout(function(){switch(t.position){case"topLeft":e.className+=" need-share-button_dropdown-top-left";break;case"topRight":e.className+=" need-share-button_dropdown-top-right";break;case"topCenter":e.className+=" need-share-button_dropdown-top-center",e.style.marginLeft=-e.offsetWidth/2+"px";break;case"middleLeft":e.className+=" need-share-button_dropdown-middle-left",e.style.marginTop=-e.offsetHeight/2+"px";break;case"middleRight":e.className+=" need-share-button_dropdown-middle-right",e.style.marginTop=-e.offsetHeight/2+"px";break;case"bottomLeft":e.className+=" need-share-button_dropdown-bottom-left";break;case"bottomRight":e.className+=" need-share-button_dropdown-bottom-right";break;case"bottomCenter":default:e.className+=" need-share-button_dropdown-bottom-center",e.style.marginLeft=-e.offsetWidth/2+"px"}},1);var n,r,i,c="default"==t.iconStyle?"need-share-button_link need-share-button_":"need-share-button_link-"+t.iconStyle+" need-share-button_link need-share-button_";for(r in t.networks)t.networks.hasOwnProperty(r)&&(n=document.createElement("span"),i=(r=t.networks[r].trim()).toLowerCase(),n.className=c+i,-1===["weibo","wechat","douban","qqzone","renren"].indexOf(i)?n.className+=" social-"+i:n.className+=" icon-"+i,n.dataset.network=i,n.title=r,e.appendChild(n));e.addEventListener("click",function(e){if(d(e.target,".need-share-button_link"))return e.preventDefault(),e.stopPropagation(),a.share[e.target.dataset.network](o),!1}),o.appendChild(e)}}(o),setTimeout(function(){o.classList.add("need-share-button-opened")},1)))})}}();